<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>I LOVE U</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			body {
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"> 您的浏览器不支持canvas标签，请您更换浏览器 </canvas>
		<script>
			const userAgent = navigator.userAgent || navigator.vendor || window.opera;
			var canvas = document.getElementById("canvas");
			var can = canvas.getContext("2d");
			var w = canvas.width = window.innerWidth; //获取屏幕宽度
			var h = canvas.height = window.innerHeight; //获取屏幕高度

			can.fillStyle = color();
			if (/Windows/i.test(userAgent)) can.font="16px 微软雅黑";
			if (/iPhone/i.test(userAgent)) can.font="20px 微软雅黑";

			var words = Array(256).join("1").split("");

			setInterval(draw, 50);

			function draw() {
				can.fillStyle = 'rgba(0,0,0,0.05)';
				can.fillRect(0, 0, w, h);
				can.fillStyle = color();
				words.map(function(y, n) {
					// 定义您想要显示的字符
					var chars = "ILOVEYOU❤️";
					// 在draw函数中
					text = chars.charAt(Math.floor(Math.random() * chars.length));
					x = n * 10;
					can.fillText(text, x, y)
					if (/Windows/i.test(userAgent)) words[n] = (y > (h / 2) + Math.random() * w ? 0 : y + 16);
					if (/iPhone/i.test(userAgent)) words[n] = (y > (h / 2) + Math.random() * w ? 0 : y + 20);
					
				});
			}

			//获取随机颜色
			function color() {
				var colors = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 'a', 'b', 'c', 'd', 'e', 'f'];
				var color = "";
				for (var i = 0; i < 6; i++) {
					var n = Math.ceil(Math.random() * 15);
					color += "" + colors[n];
				}
				return '#' + color;
			}
		</script>
	</body>
</html>
